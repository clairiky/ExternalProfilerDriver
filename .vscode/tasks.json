{
    "version" : "2.0.0",
    "windows" : {
        "options" : {
            "shell" : {
                "executable" : "powershell.exe"
            }
        }
    },
    "tasks" : [
        {
            "label" : "clean",
            "windows" : {
                "command" : "Get-ChildItem .\\ExternalProfilerDriver -include bin,obj -Recurse | foreach ($_) { Remove-Item $_.fullname -Force -Recurse } "
            },
            "type" : "shell",
            "group" : {
                "kind" : "build",
                "isDefault" : true
            },
            "presentation" : {
                "reveal" : "always"
            },
            "options" : {
                "cwd" : "${workspaceFolder}"
            },
            "problemMatcher" : "$msCompile"
        },

        {
            "label" : "restore",
            "windows" : {
                "command" : "dotnet restore"
            },
            "type" : "shell",
            "group" : {
                "kind" : "build",
                "isDefault" : true
            },
            "presentation" : {
                "reveal" : "always"
            },
            "options" : {
                "cwd" : "${workspaceFolder}"
            },
            "problemMatcher" : "$msCompile"
        },

        {
            "label" : "build",
            "windows" : {
                //"command" : "dotnet build -f netcoreapp2.0 ExternalProfilerDriver\\ExternalProfilerDriver.csproj"
                "command" : "dotnet build -f netcoreapp2.0 ExternalProfilerDriver\\ExternalProfilerDriver.csproj"
            },
            "type" : "shell",
            "group" : {
                "kind" : "build",
                "isDefault" : true
            },
            "presentation" : {
                "reveal" : "always"
            },
            "options" : {
                "cwd" : "${workspaceFolder}"
            },
            "problemMatcher" : "$msCompile"
        },

        {
            "label" : "publish",
            "windows" : {
                "command" : "dotnet publish -f netcoreapp2.0 ExternalProfilerDriver\\ExternalProfilerDriver.csproj -r win10-x64"
            },
            "type" : "shell",
            "group" : {
                "kind" : "build",
                "isDefault" : true
            },
            "presentation" : {
                "reveal" : "always"
            },
            "options" : {
                "cwd" : "${workspaceFolder}"
            },
            "problemMatcher" : "$msCompile"
        },

    ]
}